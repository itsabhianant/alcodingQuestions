# The Labrynth of Numbers

###### Made by [Abhishek](https://github.com/itsabhianant)

## Description

Given a grid where numbers are arranged in a spiral pattern, find the number at position (y, x) efficiently, even for large values up to 10⁹.

## Problem Statement
Deep within the archives of an ancient civilization, you discover a hidden chamber—The Labyrinth of Numbers. The walls are inscribed with a peculiar number spiral, an infinite grid where numbers grow outward in a distinct pattern.

Legend says that the key to unlocking the Chamber of Wisdom lies in decoding this spiral. To open the door, you must determine the number present at multiple given row (y) and column (x) positions in the grid.

Your task is to process q queries, each containing coordinates `(y, x)`, and return the corresponding number in the spiral.

---

## Input Format:
1. The first line contains a single integer `q` (`1 ≤ q ≤ 10^5`) — the number of queries.
2. The next q lines each contain two integers, `y` and `x` (`1 ≤ y, x ≤ 10^9`) — the row and column for the query.
---

## Constraints
1. `1 ≤ t ≤ 10^5`
2. `1 ≤ y,x ≤ 10^9`

---

## Output Format:

1. For each query, print a single integer — the number located at position `(y, x)` in the spiral.

---

## Test Cases

1. Input:
```
5
2 3
4 2
5 5
1 4
3 3
```

1. Output:
```
8
15
21
10
7
```

---

2. Input:
```
3
1 1
100000 99999
6 6
```

2. Output:
```
1
9999800001
31
```

---

3. Input:
```
7
999999 1000000
7 3
3 3
10 10
2 2
1 10
8 1
```

3. Output:
```
999999000001
43
7
73
3
19
50
```
---

4. Input:
```
5
1000000 999999
999999 1000000
500000 500000
1000000000 1
1 1000000000
```

4. Output:
```
999999000001
1000000000000
250000000000
999999999999
1000000000
```

---

5. Input:
```
6
987654 123456
876543 654321
765432 345678
999999999 500000000
500000000 999999999
123456789 987654321
```

5. Output:
```
975461351137
768518961762
267409378516
999999999500000000
999999999000000000
975461351137
```
---

## Explanation:
The number spiral follows a specific pattern where numbers increase outward from `(1,1)`. The movement follows:

1. Rightward
2. Downward
3. Leftward
4. Upward
For example, the first few layers of the spiral look like this:
```
1   2   9  10  25  
4   3   8  11  24  
5   6   7  12  23  
16  15  14 13  22  
17  18  19 20  21  
```
The spiral can be generated by starting at the center and moving outward in a clockwise direction. The numbers.
From this pattern, we can make a mathematical formula to calculate the number at any given `(y, x)` position.

---

## Solution:
### Psuedocode:

**Input Reading**:
   - Read integer `t` (number of queries).
   - For each query, read integers `y` (row) and `x` (column).

**Number Calculation**:
   1. If `y >= x`:
       - If `y` is odd:
       ```
        result = y * y - (x - 1)
       ```
       - If `y` is even:
       ```
       result = (y - 1) * (y - 1) + x
       ```
   2. If `x > y`:
        - If `x` is odd:
        ```
        result = (x - 1) * (x - 1) + y
        ```
        - If `x` is even:
        ```
        result = x * x - (y - 1)
        ```
3. Return `result`

### Time Complexity:
- Each query is computed in `O(1)` time.
- For `q` queries, the total time complexity is `O(q)`.

### Space Complexity:
- `O(1)` (constant space)

---

### Implementation

#### C++ Implementation:

```cpp
#include <iostream>
using namespace std;

// Function to compute the number at position (y, x) in the number spiral
long long number_spiral(long long y, long long x) {
    if (y >= x) { // If row number y is greater than or equal to column number x
        if (y % 2 == 1) { // Odd y (numbers decrease from right to left)
            return y * y - (x - 1);
        } else { // Even y (numbers increase from left to right)
            return (y - 1) * (y - 1) + x;
        }
    } else { // If column number x is greater than row number y
        if (x % 2 == 1) { // Odd x (numbers increase from top to bottom)
            return (x - 1) * (x - 1) + y;
        } else { // Even x (numbers decrease from bottom to top)
            return x * x - (y - 1);
        }
    }
}

int main() {
    int t;
    cin >> t;  // Read number of test cases
    
    while (t--) { // Process each query
        long long y, x;
        cin >> y >> x;  // Read row and column
        
        // Output the number at (y, x) using the number_spiral function
        cout << number_spiral(y, x) << endl;
    }

    return 0;
}

```
